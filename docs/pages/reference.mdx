# API Reference

## CLI

Picasso has the following command line syntax:

```bash
picasso [--flags] [tasks...] [-- ARGS...]
```

| Short | Flag | Type | Default | Description |
| - | - | - | - | - |
| `-c` | `--config` | `string` | `.picasso.yml` | Config file. Enabled by default. Set to `.picasso.yml` or change to the location of your config |
| `-w` | `--watch` | `bool` | `false` | Enables watch of the given tasks. This factors in the `watch` config in your `.picasso.yml` file. |

## Schema

### Example

```yaml
spec: 1
version: 1.0.0
authors:
  - John Apple <john@example.com>
homepage: https://github.com/andersnormal/picasso
repository: https://andersnormal.github.io/picasso/
tasks:
  test:
    disabled: true
    desc: test
    vars:
      region: test
    cmd:
      - echo "{{.OS}}"
    watch:
      paths:
        - pkg/config
    template:
      - 
        file: ./examples/config.json.tpl
        out: ./config.json
        vars:
          foo: bar
  build:
    default: true
    deps:
      - test
    vars:
      region: test
    cmd:
      - go build
    watch:
      paths:
        - examples
      ignore:
        - .gitignore
        - .picasso.yml
```

### General

| Attribute | Type | Default | Description |
| - | - | - | - |
| `spec` | `int` | | Specification version to be used. The current version is `1`. |
| `version` | `string` | | Version of the application. |
| `authors` | `[]string` | | List of authors. |
| `homepage` | `string` | | URL to the homepage of the application. |
| `repository` | `string` | | URL to the repository of the application. |
| `vars` | [`Vars`](#variable) | | Global variables. |
| `env` | [`Env`](#variable) | | Global environment. |
| `tasks` | [`Tasks`](#task) | | The task definitions. |

### Task

| Attribute | Type | Default | Description |
| - | - | - | - |
| `id` | `string` | | Unique identifcation of the task. |
| `name` | `string` | | Name of the task. |
| `description` | `string` | | Description of the task. |
| `cmd` | `[]string` | | Commands to execute for the task. |
| `working_dir` | `string` | `cwd` | Current directort which the task should run in. |
| `disabled` | `bool` | `false` | Disable the task in execution. |
| `depends_on` | `DependsOn` | | List of other task this task depends on in execution. |
| `vars` | [`Vars`](#variable) | | Variables for this task. |
| `env` | [`Env`](#variable) | | Task specific environment. |
| `watch` | [`Watch`](#watch) | | Configuration for `watch` flag of the task. |
| `template` | [`Templates`](#template) | | Templates to create for this task. |

> The `working_dir` is set to the current directory.